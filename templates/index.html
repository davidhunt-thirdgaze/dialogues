<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Discussions Of Moira And Lee</title>
    <style>
        body {
            font-family: sans-serif;
            padding: 2em;
            background-color: #fdfdfd;
        }
        h1 {
            font-size: 2em;
            margin-bottom: 1em;
        }
        .line {
            margin-bottom: 0.75em;
        }
        .moira {
            color: #003366;
        }
        .lee {
            color: #660000;
        }
    </style>
</head>
<body>
    <h1>Discussions Of Moira And Lee</h1>
    <div id="conversation"></div>

    <script>
        function fetchLines() {
            fetch("/lines")
                .then(res => res.json())
                .then(data => {
                    const convo = document.getElementById("conversation");
                    convo.innerHTML = "";
                    data.forEach(line => {
                        const div = document.createElement("div");
                        div.className = "line " + line.speaker.toLowerCase();
                        div.textContent = `${line.speaker}: ${line.text}`;
                        convo.appendChild(div);
                    });
                });
        }

        fetchLines(); // Initial load
        setInterval(fetchLines, 30000); // Refresh every 30s
    </script>
</body>
</html>
